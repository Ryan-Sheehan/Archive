{"version":3,"file":"static/webpack/static/development/pages/index.js.07180faae5a425935cab.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { motion } from 'framer-motion';\n\nimport ReactMarkdown from 'react-markdown'\n \nimport Layout from \"../components/Layout\";\nimport sanity from \"../lib/sanity\";\nimport listStyles from \"../styles/list\";\nimport galleryStyles from \"../styles/gallery\";\nimport infoStyles from \"../styles/info\";\nimport sidebarStyles from \"../styles/sidebar\";\nimport fontStyles from \"../styles/fonts\";\nimport mainStyles from \"../styles/main\";\nimport imageUrlFor from \"../utils/imageUrlFor\";\n\n\nimport EmailSVG from \"../components/EmailSVG\";\nimport Description from \"../components/Description\";\nimport GalleryView from \"../components/GalleryView\";\n\nimport GalleryIcon from \"./svg/gallery.svg\"\nimport ListIcon from \"./svg/list.svg\"\n\nconst query = `*[_type == \"ryan\"] {\n  _id,\n  name,\n  summary,\n  date,\n  image,\n  height,\n  width,\n  \"imageAspect\": image.asset->.metadata.dimensions.aspectRatio,\n  \"color\":image.asset->.metadata.palette.dominant.background\n}[0...50]\n`;\n\n\nconst listAnimation = {\n  hidden: { opacity: 0 },\n  show: {\n    opacity: 1,\n    transition: {\n      staggerChildren: 0.5\n    }\n  }\n}\n\n\nconst sidebarAnimation = {\n  open: { \n    opacity: 1, \n    x: 0 \n  },\n  closed: { \n    opacity: 0, \n    x: -100,\n    transition: {\n      duration: 0.8,\n      \n    } \n  }\n}\n\nconst contactAnimation = {\n  hidden: {\n    y: 400,\n    opacity: 0,\n    transition: {\n      delay: 0.8\n    }\n  },\n  show: {\n    y: 0,\n    opacity: 1,\n    transition: {\n      duration: 0.8\n    }\n  }\n};\n\nconst xAnimation = {\n  hidden: {\n    scale: 0.2,\n    \n    transition: {\n      delay: 0\n    }\n  },\n  show: {\n    scale: 1,\n    \n    transition: {\n       delay: 0.5,\n      duration: 2,\n        type: \"spring\", \n        stiffness: 100 \n    }\n  }\n};\n\nconst descriptionAnimation = {\n  hidden: {\n    x: 300,\n    transition: {\n      delay: 0.5,  \n    }\n  },\n  show: {\n    x: 0,\n    transition: {\n      delay: 0.3,\n      duration: 0.8,\n      ease: [0, 0.55, 0.45, 1]\n    }\n  }\n};\n\n\n\nclass Ryans extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      active: null,\n      currentDesc: null,\n      open: false,\n      xHovered: false,\n      x:0,\n      y:0,\n      width: 0, \n      height: 0,\n      scrollPos: 0,\n      galleryPopups: false,\n      mobile: false,\n\n      mode: 'list'\n    }\n    this.popupStyles = {left:this.state.x+20,top:this.state.y+20}\n\n    this.domRefs = {};\n\n    this.listDescriptions = {};\n    this.galleryDescriptions = {};\n\n    this.galleryPhotos = [];\n    this.listPhotos = []\n    this.listPhotosMobile = []\n\n    this.props.ryan.forEach((ryan, i) => {\n      this.listDescriptions[ryan._id] = <Description info={ryan} mode={\"list\"}/>;\n      this.galleryDescriptions[ryan._id] = <Description info={ryan} mode={\"gallery\"}/>;\n      \n\n      this.galleryPhotos.push(\n        {\"src\": imageUrlFor(ryan.image).width(800).toString(),\n        \"id\": ryan._id,\n        \"name\": ryan.name,\n        \"desc\": ryan.summary,\n        \"width\":800, \n        \"height\":800 / ryan.imageAspect\n      });\n\n      const listItemAnimation = {\n        hidden: {\n          scale: .2,\n          opacity: 0,\n          \n        },\n        show: {\n          scale: 1,\n          opacity: 1,\n          \n          transition: {\n            delay: i * 0.2,\n            duration:0.4,\n            ease: [0.85, 0, 0.15, 1]\n          }\n        }\n      }\n\n      this.listPhotos.push(\n        <li key={ryan._id} \n            ref={(ref) => {this.domRefs[ryan._id] = ref}}\n            className={\"ryan-list-item\"}\n            onClick={() => {this.setActive(ryan._id, \"clicked\")}}\n            onMouseEnter={() => {if (this.state.open) this.setActive(ryan._id, \"hovered\")}}\n            >\n              {ryan.image && (\n              \n              <motion.div initial=\"hidden\" animate=\"show\" variants={listItemAnimation}>\n                    \n                <img \n                  src={imageUrlFor(ryan.image).width(800)}\n                  width=\"800\"\n                  height={800 / ryan.imageAspect}\n                />\n                    \n             \n              </motion.div>\n              \n              )}\n                  \n              <style jsx>{listStyles}</style>\n        </li>\n      )\n\n      this.listPhotosMobile.push(\n        <li key={ryan._id} \n            ref={(ref) => {this.domRefs[ryan._id] = ref}}\n            className={\"ryan-list-item\"}\n            \n            >\n              {ryan.image && (\n              \n              <motion.div initial=\"hidden\" animate=\"show\" variants={listItemAnimation}>\n                    \n                <img \n                  src={imageUrlFor(ryan.image).width(800)}\n                  width=\"800\"\n                  height={800 / ryan.imageAspect}\n                />\n                    \n             \n              </motion.div>\n              \n              )}\n                  \n              <style jsx>{listStyles}</style>\n        </li>\n      )\n\n    })\n    \n    \n    \n\n  }\n  componentDidMount() {\n    this.updateWindowDimensions();\n    window.addEventListener('scroll', this.listenToScroll)\n    window.addEventListener('resize', this.updateWindowDimensions);\n    document.addEventListener('mousemove', (e) => {\n      this.updateMousePosition(e)\n    });\n  }\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.listenToScroll)\n    window.removeEventListener('resize', this.updateWindowDimensions);\n    document.removeEventListener('mousemove', (e) => {\n       this.updateMousePosition(e)\n    });\n    this.setState = (state,callback)=>{\n        return;\n    };\n  }\n\n  listenToScroll = () => {\n    const winScroll =\n      document.body.scrollTop || document.documentElement.scrollTop\n  \n    const height =\n      document.documentElement.scrollHeight -\n      document.documentElement.clientHeight\n  \n    const scrolled = winScroll / height\n  \n    this.setState({\n      scrollPos: scrolled,\n    })\n  }\n\n  updateMousePosition = (coords) => {\n    this.setState({x: coords.pageX, y: coords.pageY});\n    this.calculatePopupPosition();\n  }\n  updateWindowDimensions = () => {\n    if (window.innerWidth <= 728) this.setState({ width: window.innerWidth, height: window.innerHeight, mobile: true });\n    else this.setState({ width: window.innerWidth, height: window.innerHeight, mobile: false });\n  }\n\n  calculatePopupPosition = () => {\n    this.popupStyles = {left:this.state.x+20,top:this.state.y+20}\n\n    if (this.state.x + 500 > this.state.width) {\n      this.popupStyles.left = this.state.x-840;\n    }\n    if (this.state.x + 500 <= this.state.width) {\n      this.popupStyles.left = this.state.x+20;\n    }\n\n    if (this.state.y + 300 > this.state.height) {\n      this.popupStyles.top = this.state.y-320;\n    }\n    if (this.state.y + 300 <= this.state.height) {\n      this.popupStyles.top = this.state.y+20;\n    }\n    \n  }\n\n  handleChange = (event) => {\n    this.setState({galleryPopups: !this.state.galleryPopups});\n  }\n\n\n  setActive = (id, method) => {\n    if ((this.state.active === id || id === null) && method === \"clicked\") this.setState({active:null, open: false})\n  \n    else if (method === \"clicked\") {\n      this.setState({active:id, currentDesc: id, open: true})\n      this.domRefs[id].scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n    else if (method === \"gallery-hover\") {\n      this.setState({currentDesc: id})\n      \n    }\n  }\n\n\n  handleClose = () => {\n    this.setActive(null, \"clicked\")\n    this.setState({xHovered:false})\n  } \n\n  setMode = (current) => {\n    this.setState({active:null, open: false, galleryPopups:false}, () => this.setState({mode:current}))\n  }\n\n \n  render() {\n\n  return (\n    <Layout>\n    <div>\n     <div id=\"main\" className={this.state.open ? \"container container-pushed\" : \"container\"}>\n\n    \n     <div className={\"sidebar\"} style={{opacity: this.state.open || this.state.mode === \"gallery\" ? '0' : '1'}}>\n\n     <motion.div initial=\"closed\" animate={!this.state.open ? \"open\" : \"closed\"} transition={{ duration: 0.8 }} variants={sidebarAnimation}>\n      \n      <div className=\"sidebar-inner\">\n       \n       <div>\n         <div className=\"sidebar-name\">Ryan Sheehan</div>\n         <div className=\"sidebar-bio\">An archive of some of the graphic work Ryan has made in no particular order. Click on any piece for more information. Click on the email below to copy it. Reach out for anything.</div>\n       </div>\n\n       <motion.div className=\"contact\" initial=\"hidden\" animate={!this.state.open ? \"show\" : \"hidden\"} variants={contactAnimation}>\n         <EmailSVG/>\n       </motion.div>\n     \n      </div>\n     </motion.div>\n  \n     </div>\n\n\n     <div className={this.state.open ? \"info info-open\" : \"info\"} >\n  \n      <div className=\"info-inner\">\n      \n        <div className={this.state.xHovered ? \"info-x info-x-hover\" : \"info-x\"} \n             onMouseEnter={() => this.setState({xHovered:true})} \n             onMouseLeave={() => this.setState({xHovered:false})}\n             onClick={() => this.handleClose()}\n        ><motion.div initial=\"hidden\" animate={this.state.open ? \"show\" : \"hidden\"} variants={xAnimation}>X</motion.div></div>\n        \n        <motion.div initial=\"hidden\" animate={this.state.open ? \"show\" : \"hidden\"} variants={descriptionAnimation}>\n        {this.listDescriptions[this.state.currentDesc]}\n        </motion.div>\n\n      </div>\n  \n    </div>\n\n     \n      <div className=\"ryan-list\" style={{opacity: this.state.mode === \"gallery\" ? '0' : '1'}}>\n        <ul className=\"ryan-list-inner\" >\n          {this.state.mobile ? this.listPhotosMobile : this.listPhotos}\n        </ul>\n      </div >\n\n      \n    \n\n      {this.state.mode === \"gallery\" && \n      \n      <div className=\"ryan-gallery\">\n      {this.state.galleryPopups && <div className=\"ryan-gallery-popup\" style={this.popupStyles}>{this.galleryDescriptions[this.state.currentDesc]}</div>}\n      <GalleryView photos={this.galleryPhotos} setActive={this.setActive}/>\n      \n      </div>\n      \n      }\n\n\n      {<label className={this.state.mode === \"gallery\" ? \"checkbox-open\":\"checkbox-closed\"}>\n            <input\n              type=\"checkbox\"\n              \n              checked={this.state.galleryPopups}\n              onChange={this.handleChange}\n            /> Info on hover\n        </label> }\n      <div className=\"mode-menu\">\n      \n        \n\n      <div className={this.state.mode === \"gallery\" ? \"mode mode-selected\" : \"mode mode-not-selected\"} onClick={() => this.setMode(\"gallery\")}>\n      <GalleryIcon height={40} width={40}/>\n      </div>\n      <div className={this.state.mode === \"list\" ? \"mode mode-selected\" : \"mode mode-not-selected\"} onClick={() => this.setMode(\"list\")}>\n      <ListIcon height={40} width={40}/>\n      </div>\n      </div>\n\n      <style jsx global>{`\n        body {\n          margin: 0;\n          -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale;\n          transition-duration: 1s;\n          background-color: ${this.state.open ? '#000' : '#fff'};\n          color: #000;\n          position: relative;\n        }\n      `}</style>\n      \n      <style jsx>{mainStyles}</style>\n      <style jsx>{sidebarStyles}</style>\n      <style jsx>{listStyles}</style>\n      <style jsx>{galleryStyles}</style>\n      <style jsx>{infoStyles}</style>\n      <style jsx>{fontStyles}</style>\n      </div>\n      </div>\n    </Layout>\n  );\n}\n};\n\nexport const getStaticProps = async () => {\n  const ryan = await sanity.fetch(query);\n\n  return {\n    props: { ryan } // will be passed to the page component as props\n  };\n}\n\nexport default Ryans;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAgBA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AADA;AAFA;AAFA;AAWA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AADA;AAHA;AALA;AAeA;AACA;AACA;AACA;AACA;AACA;AADA;AAHA;AAOA;AACA;AACA;AACA;AACA;AADA;AAHA;AARA;AAiBA;AACA;AACA;AAEA;AACA;AADA;AAHA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAHA;AARA;AAoBA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAPA;AACA;AAkBA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAyIA;AAGA;AAIA;AACA;AACA;AACA;AADA;AAGA;AACA;AAtJA;AAwJA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AA3JA;AA4JA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AA/JA;AAiKA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAlLA;AAoLA;AAAA;AAAA;AACA;AACA;AAtLA;AAyLA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AApMA;AAuMA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AA1MA;AA4MA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AA5MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAbA;AAeA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;A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","sourceRoot":""}