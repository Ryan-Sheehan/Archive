{"version":3,"file":"static/webpack/static/development/pages/index.js.d73447c935743bc48419.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { motion } from 'framer-motion';\n\nimport ReactMarkdown from 'react-markdown'\n \nimport Layout from \"../components/Layout\";\nimport sanity from \"../lib/sanity\";\nimport listStyles from \"../styles/list\";\nimport galleryStyles from \"../styles/gallery\";\nimport infoStyles from \"../styles/info\";\nimport sidebarStyles from \"../styles/sidebar\";\nimport fontStyles from \"../styles/fonts\";\nimport mainStyles from \"../styles/main\";\nimport imageUrlFor from \"../utils/imageUrlFor\";\n\nimport EmailSVG from \"../components/EmailSVG\";\nimport Description from \"../components/Description\";\nimport CloseButton from \"../components/CloseButton\";\nimport SelectedImage from \"../components/SelectedImage\";\n\n\nimport Gallery from \"react-photo-gallery\";\n\nconst query = `*[_type == \"ryan\"] {\n  _id,\n  name,\n  summary,\n  date,\n  image,\n  height,\n  width,\n  \"imageAspect\": image.asset->.metadata.dimensions.aspectRatio,\n  \"color\":image.asset->.metadata.palette.dominant.background\n}[0...50]\n`;\n\nconst scaleStart = {\n   scale: .8,\n    opacity: 0\n};\n\nconst scaleEnd = {\n  scale: 1,\n    opacity: 1,\n    transition: {\n      delay: 0\n    }\n};\n\nconst listAnimation = {\n  hidden: { opacity: 0 },\n  show: {\n    opacity: 1,\n    transition: {\n      staggerChildren: 0.5\n    }\n  }\n}\n\n\nconst bgStart = {\n    backgroundColor: \"#fff\",\n    opacity: 0\n};\n\nconst bgEnd = {\n  backgroundColor: \"#000\",\n  opacity: 1,\n  transition: {\n    delay: 0\n  }\n};\n\n\n\nconst sidebarAnimation = {\n  open: { \n    opacity: 1, \n    x: 0 \n  },\n  closed: { \n    opacity: 0, \n    x: -100,\n    transition: {\n      duration: 0.8,\n      \n    } \n  }\n}\n\nconst contactAnimation = {\n  hidden: {\n    y: 400,\n    opacity: 0,\n    transition: {\n      delay: 0.8\n    }\n  },\n  show: {\n    y: 0,\n    opacity: 1,\n    transition: {\n      duration: 0.8\n    }\n  }\n};\n\nconst xAnimation = {\n  hidden: {\n    scale: 0.2,\n    \n    transition: {\n      delay: 0\n    }\n  },\n  show: {\n    scale: 1,\n    \n    transition: {\n       delay: 0.5,\n      duration: 2,\n        type: \"spring\", \n        stiffness: 100 \n    }\n  }\n};\n\nconst descriptionAnimation = {\n  hidden: {\n    x: 300,\n    transition: {\n      delay: 0.5,  \n    }\n  },\n  show: {\n    x: 0,\n    transition: {\n      delay: 0.3,\n      duration: 0.4,\n      ease: [0.68, -0.6, 0.32, 1.6]\n    }\n  }\n};\n\nconst galleryAnimation = {\n  hidden: { opacity: 0,\n  backgroundColor:\"#fff\" },\n  show: {\n    opacity: 1,\n    backgroundColor:\"#000\",\n    transition: {\n      duration: 1\n    }\n  }\n}\n\nfunction GalleryView({photos}) {\n  const [selectAll, setSelectAll] = useState(false);\n\n  const toggleSelectAll = () => {\n    setSelectAll(!selectAll);\n  };\n\n  const imageRenderer = useCallback(\n    ({ index, left, top, key, photo }) => (\n      <SelectedImage\n        selected={selectAll ? true : false}\n        key={key}\n        margin={\"2px\"}\n        index={index}\n        stagger={index * 0.05}\n        photo={photo}\n        left={left}\n        top={top}\n      />\n    ),\n    [selectAll]\n  );\n\n  return (\n    <motion.div variants={galleryAnimation}\n    initial=\"hidden\"\n    animate=\"show\">\n\n      <Gallery photos={photos} renderImage={imageRenderer} />\n    </motion.div>\n  );\n}\n\nclass Ryans extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      active: null,\n      currentDesc: null,\n      open: false,\n      xHovered: false,\n      mode: 'list'\n    }\n\n    this.domRefs = {};\n\n    this.descriptions = {};\n    this.galleryPhotos = [];\n    this.listPhotos = []\n    this.props.ryan.forEach((ryan, i) => {\n      this.descriptions[ryan._id] = <Description info={ryan}/>;\n      \n\n      this.galleryPhotos.push(\n        {\"src\": imageUrlFor(ryan.image).width(800).toString(),\n        \"width\":800, \n        \"height\":800 / ryan.imageAspect\n      });\n\n      const listItemAnimation = {\n        hidden: {\n          scale: .2,\n          opacity: 0,\n          \n        },\n        show: {\n          scale: 1,\n          opacity: 1,\n          \n          transition: {\n            delay: i * 0.2,\n            duration:0.4,\n            ease: [0.85, 0, 0.15, 1]\n          }\n        }\n      }\n\n      this.listPhotos.push(\n        <li key={ryan._id} \n            ref={(ref) => {this.domRefs[ryan._id] = ref}}\n            className={\"list_item\"}\n            onClick={() => {this.setActive(ryan._id, \"clicked\")}}\n            onMouseEnter={() => {if (this.state.open) this.setActive(ryan._id, \"hovered\")}}\n            >\n              {ryan.image && (\n              \n              <motion.div initial=\"hidden\" animate=\"show\" variants={listItemAnimation}>\n                    \n                <img \n                  src={imageUrlFor(ryan.image).width(800)}\n                  width=\"800\"\n                  height={800 / ryan.imageAspect}\n                />\n                    \n             \n              </motion.div>\n              \n              )}\n                  \n              <style jsx>{listStyles}</style>\n        </li>\n      )\n\n    })\n    \n    \n    \n\n  }\n\n  setActive = (id, method) => {\n    \n    if ((this.state.active === id || id === null) && method === \"clicked\") this.setState({active:null, open: false})\n  \n    else if (method === \"clicked\") {\n      this.setState({active:id, currentDesc: id, open: true})\n      this.domRefs[id].scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  }\n\n\n  handleClose = () => {\n    this.setActive(null, \"clicked\")\n    this.setState({xHovered:false})\n  } \n\n  setMode = (current) => {\n    this.setState({active:null, open: false}, () => this.setState({mode:current}))\n  }\n\n \n  render() {\n  return (\n    <Layout>\n     <div id=\"main\" className={this.state.open ? \"container-pushed\" : \"container\"}>\n\n     {this.state.mode === \"list\" && \n     <React.Fragment>\n     <div className={\"sidebar\"} style={{opacity: this.state.open ? '0' : '1'}}>\n\n     <motion.div initial=\"closed\" animate={!this.state.open ? \"open\" : \"closed\"} transition={{ duration: 0.8 }} variants={sidebarAnimation}>\n      \n      <div className=\"sidebar-inner \">\n       \n       <div>\n         <div className=\"sidebar-name\">Ryan Sheehan</div>\n         <div className=\"sidebar-bio\">An archive of some of the graphic work Ryan has made in no particular order. Click on any piece for more information. Click on the email below to copy it. Reach out for anything.</div>\n       </div>\n\n       <motion.div className=\"contact\" initial=\"hidden\" animate={!this.state.open ? \"show\" : \"hidden\"} variants={contactAnimation}>\n         <EmailSVG/>\n       </motion.div>\n     \n      </div>\n     </motion.div>\n  \n     </div>\n\n\n     <div className={this.state.open ? \"info info-open\" : \"info\"} >\n  \n      <div className=\"info-inner\">\n       \n       \n         \n         \n      \n      <div className={this.state.xHovered ? \"info-x info-x-hover\" : \"info-x\"} \n           onMouseEnter={() => this.setState({xHovered:true})} \n           onMouseLeave={() => this.setState({xHovered:false})}\n           onClick={() => this.handleClose()}\n      ><motion.div initial=\"hidden\" animate={this.state.open ? \"show\" : \"hidden\"} variants={xAnimation}>X</motion.div></div>\n      \n      <motion.div initial=\"hidden\" animate={this.state.open ? \"show\" : \"hidden\"} variants={descriptionAnimation}>\n      {this.descriptions[this.state.currentDesc]}\n      </motion.div>\n\n       \n     \n      </div>\n\n  \n     </div>\n\n     \n      <div className=\"ryan-list\">\n        <ul className=\"ryan-list-inner\" >\n          {this.listPhotos}\n        </ul>\n      </div >\n\n      </React.Fragment>\n    }\n\n      {this.state.mode === \"gallery\" && \n      \n      <div className=\"ryan-gallery\">\n      \n      <GalleryView photos={this.galleryPhotos}/>\n      \n      </div>\n      \n      }\n\n\n\n\n\n      <div className=\"mode-menu\">\n      <div className=\"mode\" onClick={() => this.setMode(\"gallery\")}>\n      Gallery\n      </div>\n      <div className=\"mode\" onClick={() => this.setMode(\"list\")}>\n      List\n      </div>\n      </div>\n\n      <style jsx global>{`\n        body {\n          margin: 0;\n          -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale;\n          transition-duration: 1s;\n          background-color: ${this.state.open ? '#000' : '#fff'};\n          color: #000;\n          position: relative;\n        }\n      `}</style>\n      \n      <style jsx>{mainStyles}</style>\n      <style jsx>{sidebarStyles}</style>\n      <style jsx>{listStyles}</style>\n      <style jsx>{galleryStyles}</style>\n      <style jsx>{infoStyles}</style>\n      <style jsx>{fontStyles}</style>\n      </div>\n    </Layout>\n  );\n}\n};\n\nexport const getStaticProps = async () => {\n  const ryan = await sanity.fetch(query);\n\n  return {\n    props: { ryan } // will be passed to the page component as props\n  };\n}\n\nexport default Ryans;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AAeA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AADA;AAHA;AAQA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AADA;AAFA;AAFA;AAWA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AADA;AAHA;AAUA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AADA;AAHA;AALA;AAeA;AACA;AACA;AACA;AACA;AACA;AADA;AAHA;AAOA;AACA;AACA;AACA;AACA;AADA;AAHA;AARA;AAiBA;AACA;AACA;AAEA;AACA;AADA;AAHA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAHA;AARA;AAoBA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAPA;AAiBA;AACA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AADA;AAHA;AAHA;AACA;AAWA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAeA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AA8EA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AArFA;AAwFA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AA3FA;AA6FA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AA7FA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAJA;AANA;AACA;AAiBA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVA;AAAA;AAAA;AAyBA;AACA;AAtEA;AA0EA;AACA;;;AAsBA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA9EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwGA;;;;AA9MA;AACA;AA8MA;;AAUA;;;;A","sourceRoot":""}